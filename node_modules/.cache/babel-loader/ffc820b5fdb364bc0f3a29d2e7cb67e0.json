{"ast":null,"code":"var _jsxFileName = \"/Users/adam_mosebach/Documents/General_Assembly/Projects/Wedding-Planning-App/vendor-connector/src/SpecificVendor.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DisplayARecord from './DisplayARecord';\nimport './SpecificVendor.css';\n\nfunction SpecificVendor() {\n  const [vendorTypeSelect, updateVendorTypeSelect] = useState('');\n  const [vendorNameSelect, updateVendorNameSelect] = useState('');\n  const [allRecords, updateAllRecords] = useState([]);\n  const [options, updateOptions] = useState([]); // Get the records from Airtable\n\n  useEffect(() => {\n    async function apiGet() {\n      try {\n        const recordsObj = await axios.get('https://api.airtable.com/v0/appN3Jd5GDuwUR5wG/Table%201?&view=Grid%20view', {\n          headers: {\n            Authorization: `Bearer ${process.env.REACT_APP_AIRTABLE_KEY}`\n          }\n        }); //console.log(recordsObj.data.records)\n\n        updateAllRecords(recordsObj.data.records);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    apiGet();\n  }, []);\n  useEffect(() => {\n    updateVendorNameSelect('');\n    const newOptions = allRecords.reduce((acc, record) => {\n      if (record.fields[vendorTypeSelect] && !acc.includes(record.fields[vendorTypeSelect])) {\n        acc.push(record.fields[vendorTypeSelect]);\n      }\n\n      return acc;\n    }, []);\n    updateOptions(newOptions);\n  }, [vendorTypeSelect]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selects-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => {\n      updateVendorNameSelect('');\n      updateVendorTypeSelect(e.target.value);\n      console.log('vendorNameSelect = ', vendorNameSelect);\n    },\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Select a Vendor Type\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"venue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Venue\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"dj\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"DJ\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"photog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Photographer\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"florist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Florist\")), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => updateVendorNameSelect(e.target.value),\n    value: vendorNameSelect,\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Select a Specific Vendor\"), options.map(vendor => /*#__PURE__*/React.createElement(\"option\", {\n    value: vendor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, vendor)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 8\n    }\n  }, allRecords.map(record => record.fields[vendorTypeSelect] === vendorNameSelect && /*#__PURE__*/React.createElement(DisplayARecord, {\n    record: record,\n    vendorVar: vendorTypeSelect,\n    vendorReview: `${vendorTypeSelect}Review`,\n    vendor: \"\",\n    vendorVisible: \"visible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }))));\n}\n\nexport default SpecificVendor;","map":{"version":3,"sources":["/Users/adam_mosebach/Documents/General_Assembly/Projects/Wedding-Planning-App/vendor-connector/src/SpecificVendor.js"],"names":["React","useState","useEffect","axios","DisplayARecord","SpecificVendor","vendorTypeSelect","updateVendorTypeSelect","vendorNameSelect","updateVendorNameSelect","allRecords","updateAllRecords","options","updateOptions","apiGet","recordsObj","get","headers","Authorization","process","env","REACT_APP_AIRTABLE_KEY","data","records","err","console","log","newOptions","reduce","acc","record","fields","includes","push","e","target","value","map","vendor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DisplayARecord from './DisplayARecord';\nimport './SpecificVendor.css'\n\nfunction SpecificVendor() {\n\n  const [vendorTypeSelect, updateVendorTypeSelect] = useState('');\n  const [vendorNameSelect, updateVendorNameSelect] = useState('');\n  const [allRecords, updateAllRecords] = useState([]);\n  const [options, updateOptions] = useState([]);\n\n\n  // Get the records from Airtable\n  useEffect(() => {\n    async function apiGet() {\n      try {\n        const recordsObj = await axios.get(\n          'https://api.airtable.com/v0/appN3Jd5GDuwUR5wG/Table%201?&view=Grid%20view',\n          {\n            headers: {\n              Authorization: `Bearer ${process.env.REACT_APP_AIRTABLE_KEY}`,\n            },\n          }\n        );\n        //console.log(recordsObj.data.records)\n        updateAllRecords(recordsObj.data.records);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    apiGet();\n  }, []);\n\n\n  useEffect(() => {\n    updateVendorNameSelect('');\n    const newOptions = allRecords.reduce((acc, record) => {\n      if (\n        record.fields[vendorTypeSelect] &&\n        !acc.includes(record.fields[vendorTypeSelect])\n      ) {\n        acc.push(record.fields[vendorTypeSelect]);\n      }\n      return acc;\n    }, []);\n    updateOptions(newOptions);\n  }, [vendorTypeSelect]);\n\n\n  return (\n    <div>\n    <div className='selects-div'>\n\n      {/* Populate Vendor Type Dropdown */}\n      <select\n        onChange={(e) => {\n          updateVendorNameSelect('')\n          updateVendorTypeSelect(e.target.value);\n          console.log('vendorNameSelect = ', vendorNameSelect);\n        }} className='select'>\n        <option value=''>Select a Vendor Type</option>\n        <option value='venue'>Venue</option>\n        <option value='dj'>DJ</option>\n        <option value='photog'>Photographer</option>\n        <option value='florist'>Florist</option>\n      </select>\n\n      \n      {/* Populate Vendor Name Dropdown */}\n      <select onChange={(e) => updateVendorNameSelect(e.target.value)} value={vendorNameSelect}  className='select'>\n        <option value='' defaultValue>\n          Select a Specific Vendor\n        </option>\n        {options.map((vendor) => (\n          <option value={vendor}>{vendor}</option>\n        ))}\n      </select>\n      </div>\n       <div className=''>\n      {/* Displaying records that match criteria */}\n      {allRecords.map(\n        (record) =>\n          record.fields[vendorTypeSelect] === vendorNameSelect && (\n            <DisplayARecord\n              record={record}\n              vendorVar={vendorTypeSelect}\n              vendorReview={`${vendorTypeSelect}Review`}\n              vendor=''\n              vendorVisible='visible'\n            />\n          )\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SpecificVendor;\n"]},"metadata":{},"sourceType":"module"}