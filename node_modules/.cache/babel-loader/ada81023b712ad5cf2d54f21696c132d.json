{"ast":null,"code":"var _jsxFileName = \"/Users/adam_mosebach/Documents/General_Assembly/Projects/Wedding-Planning-App/vendor-connector/src/CreateForm.js\";\nimport React, { useState } from 'react';\nimport FormComponent from './FormComponent';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport placecard1 from './images/placecard1.jpg';\nimport './CreateForm.css';\n\nfunction CreateForm() {\n  // I do declare!\n  const [name, updateName] = useState('');\n  const [email, updateEmail] = useState('');\n  const [venue, updateVenue] = useState('');\n  const [dj, updateDj] = useState('');\n  const [photog, updatePhotog] = useState('');\n  const [florist, updateFlorist] = useState('');\n  const [venueReview, updateVenueReview] = useState('');\n  const [djReview, updateDjReview] = useState('');\n  const [photogReview, updatePhotogReview] = useState('');\n  const [floristReview, updateFloristReview] = useState('');\n  const history = useHistory(); // Updates state values of inputs on change\n\n  function inputHandler(e, action) {\n    e.preventDefault();\n    action(e.target.value);\n  } // Validates name and email. If correct, calls apiPost()\n\n\n  function submitHandler(e) {\n    e.preventDefault();\n\n    if (name !== '') {\n      if (email.includes('@') && email.includes('.')) {\n        apiPost();\n        history.push('/Reviews');\n      } else {\n        alert('Must provide valid email');\n      }\n    } else {\n      alert('Must provide your name');\n    }\n  } // Post data entered by user into Airtable\n\n\n  async function apiPost() {\n    try {\n      const sendData = await axios.post('https://api.airtable.com/v0/appN3Jd5GDuwUR5wG/Table%201', {\n        fields: {\n          name: name,\n          email: email,\n          venue: venue,\n          venueReview: venueReview,\n          dj: dj,\n          djReview: djReview,\n          photog: photog,\n          photogReview: photogReview,\n          florist: florist,\n          floristReview: floristReview\n        }\n      }, {\n        headers: {\n          Authorization: `Bearer ${process.env.REACT_APP_AIRTABLE_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  } // Display the create page utilizing a FormComponent for each kind of vendor\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"createForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-email-fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"formHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Your Info\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Name:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    onChange: e => inputHandler(e, updateName),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"Email:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    onChange: e => inputHandler(e, updateEmail),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vendor-fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"formHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"Vendor Info\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"formSubHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Vendor Name\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"formSubHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Review\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vendor-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormComponent, {\n    field: \"Venue\",\n    vendorAction: updateVenue,\n    reviewAction: updateVenueReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormComponent, {\n    field: \"DJ\",\n    vendorAction: updateDj,\n    reviewAction: updateDjReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormComponent, {\n    field: \"Photography\",\n    vendorAction: updatePhotog,\n    reviewAction: updatePhotogReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormComponent, {\n    field: \"Florist\",\n    vendorAction: updateFlorist,\n    reviewAction: updateFloristReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Post My Reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default CreateForm;","map":{"version":3,"sources":["/Users/adam_mosebach/Documents/General_Assembly/Projects/Wedding-Planning-App/vendor-connector/src/CreateForm.js"],"names":["React","useState","FormComponent","axios","useHistory","placecard1","CreateForm","name","updateName","email","updateEmail","venue","updateVenue","dj","updateDj","photog","updatePhotog","florist","updateFlorist","venueReview","updateVenueReview","djReview","updateDjReview","photogReview","updatePhotogReview","floristReview","updateFloristReview","history","inputHandler","e","action","preventDefault","target","value","submitHandler","includes","apiPost","push","alert","sendData","post","fields","headers","Authorization","process","env","REACT_APP_AIRTABLE_KEY","err","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport FormComponent from './FormComponent';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport placecard1 from './images/placecard1.jpg';\nimport './CreateForm.css';\n\nfunction CreateForm() {\n  // I do declare!\n  const [name, updateName] = useState('');\n  const [email, updateEmail] = useState('');\n\n  const [venue, updateVenue] = useState('');\n  const [dj, updateDj] = useState('');\n  const [photog, updatePhotog] = useState('');\n  const [florist, updateFlorist] = useState('');\n\n  const [venueReview, updateVenueReview] = useState('');\n  const [djReview, updateDjReview] = useState('');\n  const [photogReview, updatePhotogReview] = useState('');\n  const [floristReview, updateFloristReview] = useState('');\n\n  const history = useHistory();\n\n  // Updates state values of inputs on change\n  function inputHandler(e, action) {\n    e.preventDefault();\n    action(e.target.value);\n  }\n\n  // Validates name and email. If correct, calls apiPost()\n  function submitHandler(e) {\n    e.preventDefault();\n    if (name !== '') {\n      if (email.includes('@') && email.includes('.')) {\n        apiPost();\n        history.push('/Reviews');\n      } else {\n        alert('Must provide valid email');\n      }\n    } else {\n      alert('Must provide your name');\n    }\n  }\n\n  // Post data entered by user into Airtable\n  async function apiPost() {\n    try {\n      const sendData = await axios.post(\n        'https://api.airtable.com/v0/appN3Jd5GDuwUR5wG/Table%201',\n        {\n          fields: {\n            name: name,\n            email: email,\n            venue: venue,\n            venueReview: venueReview,\n            dj: dj,\n            djReview: djReview,\n            photog: photog,\n            photogReview: photogReview,\n            florist: florist,\n            floristReview: floristReview,\n          },\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${process.env.REACT_APP_AIRTABLE_KEY}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  // Display the create page utilizing a FormComponent for each kind of vendor\n  return (\n    <div className='createForm'>\n      <form onSubmit={submitHandler} className='form'>\n        <div className='name-email-fields'>\n          <h3 className='formHeading'>Your Info</h3>\n          <label htmlFor='name'>\n            Name:\n            <input\n              type='text'\n              id='name'\n              onChange={(e) => inputHandler(e, updateName)}\n            />\n          </label>\n          <label htmlFor='email'>\n            Email:\n            <input\n              type='text'\n              id='email'\n              onChange={(e) => inputHandler(e, updateEmail)}\n            />\n          </label>\n        </div>\n        <div className='vendor-fields'>\n          <h3 className='formHeading'>Vendor Info</h3>\n          <h4>\n            <span className='formSubHeading'>Vendor Name</span>\n            <span className='formSubHeading'>Review</span>\n          </h4>\n          <div className='vendor-form'>\n            <FormComponent\n              field='Venue'\n              vendorAction={updateVenue}\n              reviewAction={updateVenueReview}\n            />\n            <FormComponent\n              field='DJ'\n              vendorAction={updateDj}\n              reviewAction={updateDjReview}\n            />\n            <FormComponent\n              field='Photography'\n              vendorAction={updatePhotog}\n              reviewAction={updatePhotogReview}\n            />\n            <FormComponent\n              field='Florist'\n              vendorAction={updateFlorist}\n              reviewAction={updateFloristReview}\n            />\n          </div>\n        </div>\n        <input type='submit' value='Post My Reviews' />\n      </form>\n    </div>\n  );\n}\n\nexport default CreateForm;\n"]},"metadata":{},"sourceType":"module"}